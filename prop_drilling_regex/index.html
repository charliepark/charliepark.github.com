<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Charlie Park’s tumblelog</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/style.css"/>
</head>
<body>
  <header>
    <h1><a href="/">Charlie Park!</a></h1>
    <div>(or, rather, his tumblelog)</div>
    <nav><a href="/">home</a><a href="/about">about me</a><a href="/projects">projects</a></nav>
  </header>
  <main>
    
<article class="text">
<time class="postdate" datetime="2020-11-21T08:00:00.000Z">
  <a href="">November 21, 2020</a>
</time>
<div class="postbody">
  <h1>A RegEx To Help You Move From Prop-Drilling In React To Using The useContext Hook</h1>
<p>I added hooks to my app a while ago, but hadn’t gone through to refactor a number of places where I was drilling props from one component down through to a component many layers deep.</p>
<p>I wanted to see which properties I was passing along a lot, to see what some of the more common offenders were, so I could move them into useContext hooks.</p>
<p>In VSCode there’s a really handy global regex search. Just select the last two options from the search bar (&quot;case senseitive&quot; and “regex”) and paste this in:</p>
<pre class="language-js"><code class="language-js"><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">=</span>\<span class="token punctuation">{</span>\<span class="token number">1</span>\<span class="token punctuation">}</span></code></pre>
<p>The results will look something like this:</p>
<img src="/images/props.png" alt="A screenshot of VSCode with a search term and its results showing React code." style="border-radius: 0.3em">
<p>The regex is doing this:</p>
<pre class="language-js"><code class="language-js"><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">)</span> → <span class="token string">"Capture some string of text …"</span><br><span class="token operator">=</span>\<span class="token punctuation">{</span>  → <span class="token string">"… followed by an equals sign and an open bracket …"</span><br>\<span class="token number">1</span>   → <span class="token string">"… followed by the same exact string of text …"</span><br>\<span class="token punctuation">}</span>   → <span class="token string">"… with a closing bracket following it."</span></code></pre>
<p>Obviously, <em>some</em> of the instances that match that pattern will be legit. But if you’re seeing a lot of the same ones over and over, they might be good candidates for moving either into a ContextProvider or closer to wherever you’re using them.</p>
<p>So. Go refactor. Have fun.</p>
<p>(Side note: 485 results in 58 files. Merp. Good news, though: it’s getting better.)</p>

</div>
</article>

  </main>
  <footer>
    <p>Hey there. I’m Charlie. I like adventures, friends, and adventures with friends.</p>
    <p>Would love for you to say hi! charlie@charliepark.org</p>
  </footer>
</body>
</html>

